:sourcesdir: ../../../../source

[[unique_constraint_violation_exceptions]]
==== Handling Unique Constraint Violation Exceptions in Screens

The platform provides an ability to set a unique message for a thrown constraint error in the database.

The <<cuba.uniqueConstraintViolationPattern,cuba.uniqueConstraintViolationPattern>> property defines a regular expression different from the default used for your database. Then this pattern is used by the `UniqueConstraintViolationHandler` that catches the unique constraint violations.

You may need to adjust this expression to your DBMS, and the value of its first non-empty group is used to find a message to the user in the <<main_message_pack,main message pack>>.

The constraint name can be used to display a localized message that indicates what the entity is concerned. For this, the main message pack should contain keys equal to constraint names and be in uppercase. For example:

[source, properties]
----
IDX_SEC_USER_UNIQ_LOGIN = A user with the same login already exists
----

So, for example, if you got this notification:

image::unique_constraint_message.png[align="center"]

Then with the default regular expression and adding

[source, properties]
----
IDX_DEMO_PRODUCT_UNIQ_NAME = A product with this name already exists
----

to the main message pack, you will get the following notification:

image::unique_constraint_message_2.png[align="center"]

You can also completely replace the standard `UniqueConstraintViolationHandler` by providing your own <<exceptionHandlers,exception handler>> with order `HIGHEST_PLATFORM_PRECEDENCE - 10`.
